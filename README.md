# Motion capture

- 利用 CMake 构建
- 需要C++11 以上
## 世界坐标系的变换
流程如下：

    - 获取棋盘格中三个点的空间位置（相机坐标系），以其中一点为原点，获得其他两点在此坐标系下的坐标p0, p1
    - 由p1, p0的叉乘得到p2，这个向量便是垂直于棋盘的向量（设为X轴），p0设为Y轴
    - 由p2， p0的叉乘得到X轴
    - 矩阵[X, Y, Z]便是由是世界坐标系到相机坐标系的旋转矩阵，设为R
    - 原点在相机坐标系中的位置便是世界坐标系到相机坐标系的位移向量, 设为T
    - 所以R.inv是相机坐标系到世界坐标系的旋转矩阵，由于旋转矩阵都是正交矩阵，所以R.inv == R.Transpose
    - 而-T便是相机坐标系到世界坐标系的位移向量
    - 故 P_world = R.inv*(P_camera-T) (矩阵乘法)
## TODO

- 关于速度的问题
    - 整体速度取决于三个部分：1. 处理的速度； 2. 获取图像的速度（同步帧率）3. 前两者之间的同步问题
- 对于tracker， 跟踪效果不是很稳定，应该加入卡尔曼滤波或者指数移动平均滤波对未来位置预测